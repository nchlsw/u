<script>
  let repeat;
  do {
    let userVehicle;
    do {
      userVehicle = prompt(`Pilih kendaraan anda:
      1. Motor
      2. Mobil
      3. Exit`);
    } while (!(userVehicle == "1" || userVehicle == "2" || userVehicle == "3"));

    let userTotalParkingFee = 0;

    const motor = "1";
    const mobil = "2";
    if (userVehicle == motor || userVehicle == mobil) {
      do {
        durationInHours = prompt("Berapa lama anda parkir? (Jam)");
      } while (durationInHours < 0);
      durationInHours = parseInt(durationInHours);

      if (durationInHours > 0) {
        let firstTwoHours;
        let feePerHour;
        let maxFee;

        if (userVehicle == motor) {
          firstTwoHours = 3000;
          feePerHour = 1000;
          maxFee = 30000;
        } else if (userVehicle == mobil) {
          firstTwoHours = 5000;
          feePerHour = 2000;
          maxFee = 50000;
        }

        if (durationInHours <= 2) {
          userTotalParkingFee = firstTwoHours;
        } else if (durationInHours > 2) {
          userTotalParkingFee =
            firstTwoHours + feePerHour * (durationInHours - 2);
        }

        if (userTotalParkingFee > maxFee) {
          userTotalParkingFee = maxFee;
        }

        alert(
          `Total biaya parkir anda adalah: Rp. ${userTotalParkingFee.toLocaleString()}`
        );
      }
      repeat = confirm("Kembali ke menu utama?");
    } else {
      break;
    }
  } while (repeat);
</script>
